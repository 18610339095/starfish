webpackJsonp([34],{"NTb/":function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=o("iUDm"),t=o("6zyG"),i=o("lj9Z"),a=(o("NYxO"),{name:"register",data:()=>({a:"",invite_code:"",zoomC:"86",haszoom:!1,haszoom1:!1,isCheck:!1,zoneCode:t.zoneCode,phone:"",isHide:!1,cycle:t.TIMER,isClick:!0,text:"验证码",timer:"",label_:"",zone_num:"86",phoneCode:"",password:"",password_again:"",money_pwd:"",lang:"",times:null,show:!0,money_pwd_again:"",errorShow1:{phone:{reg:!0,isNull:!0,isInit:1},phoneCode:{reg:!1,isNull:!0,isInit:1}},errorShow2:{password:{reg:!0,isNull:!0,isInit:1},password_again:{reg:!0,isEqa:!1,isNull:!0,isInit:1}}}),watch:{phone(e,s){""==e?(this.errorShow1.phone.isNull=!0,this.errorShow1.phone.reg=!1):(this.errorShow1.phone.reg=!0,this.errorShow1.phone.isNull=!1),this.errorShow1.phone.isInit=0},password(e,s){let o=this;""==e?o.errorShow2.password.isNull=!0:(o.errorShow2.password.isNull=!1,o.errorShow2.password.reg=!0),""!=o.password_again&&(o.errorShow2.password_again.isEqa=!1),o.errorShow2.password.isInit=0},password_again(e,s){let o=this;""==e?o.errorShow2.password_again.isNull=!0:(o.errorShow2.password_again.isNull=!1,o.errorShow2.password_again.reg=!0,o.errorShow2.password_again.isEqa=!0),o.errorShow2.password_again.isInit=0}},methods:{login(){this.$router.push({name:"login"})},zoomPho:function(){this.haszoom=!0,this.show=!1},getZoom:function(e){this.haszoom=!1,this.zoomC=e,this.show=!0},resultNext(){let e=this;Object(r.V)({step:2,verifycode:e.phoneCode,zone_num:e.zoomC,phone:e.phone}).then(s=>{Object(r.W)(s,s=>{e.isHide=!0},s=>{e.$toast.show({text:e.$message.error(e.$t("wrong code"))})})})},getVerifyCode(){let e=this;""!=e.phone?(e.isClick=!1,Object(r.V)({step:1,zone_num:e.zoomC,phone:e.phone}).then(s=>{Object(r.W)(s,s=>{e.label_=e.cycle+"s",e.timer=setInterval(()=>{1==e.cycle?(clearInterval(e.timer),e.isClick=!0,e.text="重新发送",e.cycle=t.TIMER,e.label_=""):(e.cycle--,e.label_=e.cycle+"s")},1e3)},s=>{e.isClick=!0,this.$message({message:e.$t(s.msg),type:"warning"})})})):this.$message({message:e.$t("enter phone number"),type:"warning"})},validatePwd(){this.errorShow2.password.isInit=0,""!==this.password&&(this.errorShow2.password.isNull=!1,this.password.length<8&&this.password.length>0?this.errorShow2.password.reg=!1:this.errorShow2.password.reg=t.NUMBER_LETTER_REG.test(this.password))},validateAgainPwd(){this.errorShow2.password_again.isInit=0,""!==this.password_again&&(this.errorShow2.password_again.isNull=!1,this.password_again.length<8&&this.password_again.length>0?this.errorShow2.password_again.reg=!1:(this.errorShow2.password_again.reg=t.NUMBER_LETTER_REG.test(this.password_again),this.errorShow2.password_again.reg?this.errorShow2.password_again.isEqa=this.password_again===this.password:this.errorShow2.password_again.isEqa=!0))},validatePhone(){this.errorShow1.phone.isInit=0,"86"==this.zoomC?""!==this.phone&&(this.errorShow1.phone.isNull=!1,this.errorShow1.phone.reg=t.PhoneReg.test(this.phone)):(this.errorShow1.phone.isNull=!1,this.errorShow1.phone.reg=!0)},validatePhoneCode(){this.errorShow1.phoneCode.isInit=0,""!==this.phoneCode&&(this.errorShow1.phoneCode.isNull=!1,this.errorShow1.phoneCode.reg=!0)},valiateResult1(){return this.isCheck&&Object(r._7)(this.errorShow1,[{key:"isNull",value:!1},{key:"reg",value:!0},{key:"isEqa",value:!0}])},valiateResult2(){return Object(r._7)(this.errorShow2,[{key:"isNull",value:!1},{key:"reg",value:!0},{key:"isEqa",value:!0}])},register(){let e=Object(i.a)("channelId"),s=this,o={step:3,phone:s.phone,zone_num:s.zoomC,password:s.password,password_again:s.password_again,channel:e,invite_code:s.invite_code};Object(r.V)(o).then(e=>{Object(r.W)(e,e=>{s.$message({message:s.$t("succeeded"),type:"success"}),this.$router.push({name:"login"})},e=>{s.$message({message:s.$t(e.msg),type:"warning"})})})},login(){this.$router.push({name:"login"})}},mounted(){this.invite_code=this.$route.query.invite_code,this.a=this.$route.query.invite_code,console.log(this.invite_code);let e=this;this.lang=this.$i18n.locale,this.times=setInterval(function(){e.lang=e.$i18n.locale},200),document.addEventListener("click",e=>{this.haszoom=!1,this.show=!0})},beforeDestroy(){this.times&&clearInterval(this.times)}}),n={render:function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",{staticClass:"yContent lxmContent"},[o("form",{staticClass:"yForm"},[o("ul",{directives:[{name:"show",rawName:"v-show",value:!e.isHide,expression:"!isHide"}]},[o("li",{staticClass:"cBlue f18 mt40 title",staticStyle:{"margin-top":"0"}},[e._v(e._s(e.$t("create account")))]),e._v(" "),o("li",[o("div",{staticClass:"input-group"},[o("p",{staticClass:"f12 c99"},[e._v(e._s(e.$t("phone number")))]),e._v(" "),o("div",{staticClass:"zoomPho",on:{click:function(s){s.stopPropagation(),e.zoomPho()}}},[o("span",{staticClass:"span "},[e._v(" "+e._s(e.zoomC))]),o("span",{staticClass:"caret"}),e._v(" "),o("ul",{directives:[{name:"show",rawName:"v-show",value:e.haszoom,expression:"haszoom"}],staticClass:"pho_list",staticStyle:{position:"relative","z-index":"1000"}},e._l(e.zoneCode,function(s){return o("li",{staticStyle:{overflow:"hidden",padding:"0 20px"},on:{click:function(o){o.stopPropagation(),e.getZoom(s.code)}}},[o("span",{staticClass:"fl"},[e._v(e._s("zh"==e.lang?s.zh:s.en))]),e._v(" "),o("span",{staticClass:"fr"},[e._v(e._s(s.code))])])}))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"input-text ml",class:{inpErr:0==e.errorShow1.phone.isInit&&!e.errorShow1.phone.reg},staticStyle:{"box-shadow":"none"},attrs:{type:"text",placeholder:e.$t("phone number")},domProps:{value:e.phone},on:{blur:function(s){e.validatePhone()},input:function(s){s.target.composing||(e.phone=s.target.value)}}}),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isClick,expression:"isClick"}],staticStyle:{position:"absolute",top:"95px",width:"84px","z-index":"999",left:"215px"},attrs:{type:"primary",size:"medium",disabled:!e.errorShow1.phone.reg},on:{click:function(s){e.getVerifyCode()}}},[e._v(e._s(e.$t("code"))+"\n            ")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isClick,expression:"!isClick"}],staticStyle:{position:"absolute",top:"95px",width:"84px","z-index":"999",left:"205px"},attrs:{type:"primary",size:"medium",disabled:""}},[e._v(e._s(e.label_)+"\n            ")]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow1.phone.isInit&&!e.errorShow1.phone.isNull&&!e.errorShow1.phone.reg,expression:"errorShow1.phone.isInit==0&&!errorShow1.phone.isNull&&!errorShow1.phone.reg"}],staticClass:"errText"},[e._v(e._s(e.$t("wrong phone number")))])],1)]),e._v(" "),o("li",[o("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneCode,expression:"phoneCode"}],staticClass:"input-text",class:{inpErr:0==e.errorShow1.phoneCode.isInit&&!e.errorShow1.phoneCode.reg},staticStyle:{"box-shadow":"none"},attrs:{type:"text",placeholder:e.$t("sms authentication code")},domProps:{value:e.phoneCode},on:{blur:function(s){e.validatePhoneCode()},input:function(s){s.target.composing||(e.phoneCode=s.target.value)}}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow1.phoneCode.isInit&&e.errorShow1.phoneCode.isNull,expression:"errorShow1.phoneCode.isInit==0&&errorShow1.phoneCode.isNull"}],staticClass:"errText"},[e._v(e._s(e.$t("sms authentication code must not be blank")))])])]),e._v(" "),o("li",[o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.invite_code,expression:"invite_code"}],staticClass:"input-text",staticStyle:{"box-shadow":"none"},attrs:{type:"text",maxlength:"6",disabled:!!e.a,placeholder:e.$t("Invite code (Optional)")},domProps:{value:e.invite_code},on:{input:function(s){s.target.composing||(e.invite_code=s.target.value)}}})])]),e._v(" "),o("li",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[o("div",{staticClass:"form-rule",staticStyle:{"margin-top":"20px","margin-bottom":"12px"}},[o("div",{staticClass:"input-ck-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.isCheck,expression:"isCheck"}],staticClass:"input-ck",attrs:{type:"checkbox",id:"ck-rule"},domProps:{checked:Array.isArray(e.isCheck)?e._i(e.isCheck,null)>-1:e.isCheck},on:{change:function(s){var o=e.isCheck,r=s.target,t=!!r.checked;if(Array.isArray(o)){var i=e._i(o,null);r.checked?i<0&&(e.isCheck=o.concat([null])):i>-1&&(e.isCheck=o.slice(0,i).concat(o.slice(i+1)))}else e.isCheck=t}}}),e._v(" "),o("i",{staticClass:"ico-ck"},[e._v("√")])]),e._v(" "),o("label",{attrs:{for:"ck-rule"}},[e._v(e._s(e.$t("registeragree")))]),e._v(" "),o("a",{attrs:{target:"_blank",href:"#/clause_"+e.lang}},[e._v(e._s(e.$t("terms")))])])]),e._v(" "),o("li",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[o("el-button",{staticStyle:{width:"300px","font-size":"14px"},attrs:{type:"primary",size:"medium",disabled:!e.valiateResult1()},on:{click:function(s){e.resultNext()}}},[e._v(e._s(e.$t("next step")))]),e._v(" "),o("span",{staticClass:"span_1"},[e._v(e._s(e.$t("already registered"))+"?"),o("a",{staticClass:"a",attrs:{href:"javascript:;"},on:{click:function(s){e.login()}}},[e._v(e._s(e.$t("login")))])])],1)]),e._v(" "),o("ul",{directives:[{name:"show",rawName:"v-show",value:e.isHide,expression:"isHide"}]},[o("li",{staticClass:"cBlue f18 mt40"},[e._v(e._s(e.$t("create account")))]),e._v(" "),o("li",[o("div",{staticClass:"input-group"},[o("p",{staticClass:"f12 c99 mt30"},[e._v(e._s(e.$t("password")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input-text",class:{inpErr:0==e.errorShow2.password.isInit&&!e.errorShow2.password.reg},staticStyle:{"box-shadow":"none"},attrs:{type:"password",placeholder:"",maxlength:"16"},domProps:{value:e.password},on:{blur:function(s){e.validatePwd()},input:function(s){s.target.composing||(e.password=s.target.value)}}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:e.errorShow2.password.isNull&&0==e.errorShow2.password.isInit,expression:"errorShow2.password.isNull&&errorShow2.password.isInit==0"}],staticClass:"errText"},[e._v(e._s(e.$t("login password must not be blank")))]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:!e.errorShow2.password.isNull&&!e.errorShow2.password.reg&&0==e.errorShow2.password.isInit,expression:"!errorShow2.password.isNull&&!errorShow2.password.reg&&errorShow2.password.isInit==0"}],staticClass:"errText"},[e._v(e._s(e.$t("wrong password format")))])])]),e._v(" "),o("li",[o("div",{staticClass:"input-group"},[o("p",{staticClass:"f12 c99 mt30"},[e._v(e._s(e.$t("enter password again")))]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password_again,expression:"password_again"}],staticClass:"input-text",class:{inpErr:0==e.errorShow2.password_again.isInit&&!e.errorShow2.password_again.isEqa},staticStyle:{"box-shadow":"none"},attrs:{type:"password",placeholder:"",maxlength:"16"},domProps:{value:e.password_again},on:{blur:function(s){e.validateAgainPwd()},input:function(s){s.target.composing||(e.password_again=s.target.value)}}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:e.errorShow2.password_again.isNull&&0==e.errorShow2.password_again.isInit,expression:"errorShow2.password_again.isNull&&errorShow2.password_again.isInit==0"}],staticClass:"errText"},[e._v(e._s(e.$t("comfirm password must not be blank")))]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:!e.errorShow2.password_again.isNull&&!e.errorShow2.password_again.reg&&0==e.errorShow2.password_again.isInit,expression:"!errorShow2.password_again.isNull&&!errorShow2.password_again.reg&&errorShow2.password_again.isInit==0"}],staticClass:"errText"},[e._v(e._s(e.$t("wrong confirm password format")))]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:!e.errorShow2.password_again.isNull&&e.errorShow2.password_again.reg&&!e.errorShow2.password_again.isEqa&&0==e.errorShow2.password_again.isInit,expression:"!errorShow2.password_again.isNull&&errorShow2.password_again.reg&&!errorShow2.password_again.isEqa&&errorShow2.password_again.isInit==0"}],staticClass:"errText"},[e._v(e._s(e.$t("new password does not match new password")))])])]),e._v(" "),o("li",[o("el-button",{staticStyle:{width:"300px","font-size":"14px","margin-top":"30px"},attrs:{size:"medium",type:"primary",disabled:!e.valiateResult2()},on:{click:function(s){e.register()}}},[e._v("\n            "+e._s(e.$t("login"))+"\n        ")])],1),e._v(" "),o("li")])]),e._v(" "),o("a",{attrs:{href:"javascript:;"}})])},staticRenderFns:[]};var l=o("VU/8")(a,n,!1,function(e){o("QFVR")},"data-v-2d66be8c",null);s.default=l.exports},QFVR:function(e,s){}});
//# sourceMappingURL=34.a95f847274e855aa2ef7.js.map