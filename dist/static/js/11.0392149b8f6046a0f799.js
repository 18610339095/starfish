webpackJsonp([11],{"0D7k":function(t,e,i){"use strict";var a=i("MTiz"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"tableWrap "},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==t.status,expression:"status == '1'"}],staticStyle:{height:"25px","line-height":"25px",padding:"0 13px",float:"right","margin-top":"-41px"},attrs:{disabled:""==t.enTrust},on:{click:function(e){t.Allcancel(t.allM_id)}}},[t._v(t._s(t.$t("fullcancel")))]),t._v(" "),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:"3"==t.status,expression:"status == '3'"}],staticStyle:{height:"25px","line-height":"25px",padding:"0 13px",float:"right","margin-top":"-41px",color:"#4168f3"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v(t._s(t.$t("Hide all canceled")))]),t._v(" "),i("table",{staticClass:"table",class:"1"!=t.status?"topnone":"",attrs:{width:"100%"}},["1"==t.status?i("thead",[i("tr",[i("th",{staticStyle:{"text-align":"left"},attrs:{width:"10%"}},[i("p",[t._v(t._s(t.$t("time")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"left",width:"90px"}},[i("p",[t._v(t._s(t.$t("market")))])]),t._v(" "),i("th",{attrs:{width:"10%"}},[i("p",[t._v(t._s(t.$t("type"))+" ")])]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[i("p",[t._v(t._s(t.$t("direction")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"center","font-family":"Helvetica"}},[t._v(t._s(t.$t("FIlled")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[i("p",[t._v(t._s(t.$t("price")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"right",width:"170px"}},[i("p",[t._v(t._s(t.$t("amount")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"right",width:"170px"}},[i("p",[t._v(t._s(t.$t("total")))])]),t._v(" "),i("th",{directives:[{name:"show",rawName:"v-show",value:"2"==t.status,expression:"status == '2'"}],staticStyle:{"text-align":"right"}},[i("p",[t._v(t._s(t.$t("fee")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"right"},attrs:{width:"10%"}},[i("p",[t._v(t._s(2==t.status?t.$t("status"):t.$t("action")))])])])]):t._e(),t._v(" "),"1"==t.status?i("tbody",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[i("div",{class:{none:""!=t.enTrust},staticStyle:{"font-size":"14px",color:"#666",padding:"38px 0",width:"1044px","text-align":"center"}},[i("p",{staticClass:" ",staticStyle:{color:"#333333","font-weight":"500"}},[t._v(t._s(t.$t("no records")))])]),t._v(" "),t._l(t.enTrust,function(e){return i("tr",[i("td",{staticClass:"space1",staticStyle:{"font-family":"Helvetica",padding:"15px 0px"}},[t._v(t._s(t.dateTime(e.create_time).slice(5,20).replace("-","/")))]),t._v(" "),i("td",[t._v(t._s(e.coin)+"/"+t._s(e.market))]),t._v(" "),i("td",[t._v(t._s("1"==e.order_type?t.$t("limitorder"):t.$t("Market")))]),t._v(" "),i("td",{class:1==e.type?"green":"red"},[t._v(t._s(1==e.type?t.$t("buy"):t.$t("sell")))]),t._v(" "),i("td",{staticStyle:{"text-align":"center","font-family":"Helvetica"}},[t._v("\n            "+t._s("1"==e.order_type?((e.history_count-e.count)/e.history_count*100).toFixed(2)+"%"||"--":((e.history_count-e.amount)/e.history_count*100).toFixed(2)+"%"||"--")+"\n          ")]),t._v(" "),i("td",{staticClass:"space1",staticStyle:{"text-align":"right","font-family":"Helvetica"},attrs:{title:e.price}},[t._v(t._s("1"==e.order_type?t.format("0",e.price):t.$t("Market")))]),t._v(" "),i("td",{staticClass:"space1",staticStyle:{"text-align":"right","font-family":"Helvetica"},attrs:{id:"colors",title:e.count}},[t._v(t._s("2"==e.order_type?1==e.type?"--":e.history_count:t.format("1",e.history_count)))]),t._v(" "),i("td",{staticClass:"space1",staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v("\n            "+t._s("2"==e.order_type?1==e.type?e.history_count:"--":t.format("2",t.math_multiply(e.all_count)))+t._s(e.market)+"\n          ")]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[i("el-button",{staticStyle:{padding:"0","font-size":"12px",color:"#4168f3"},attrs:{type:"text"},on:{click:function(i){t.cancel(e.m_id)}}},[t._v(t._s(t.statusText))])],1)])})],2):t._e(),t._v(" "),"2"==t.status?i("thead",[i("tr",[i("th",{staticStyle:{"text-align":"left"},attrs:{width:"20%"}},[i("p",[t._v(t._s(t.$t("time")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[i("p",[t._v(t._s(t.$t("market")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"left",width:"80px"}},[i("p",[t._v(t._s(t.$t("direction")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[i("p",[t._v(t._s(t.$t("price")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[i("p",[t._v(t._s(t.$t("amount")))])]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[i("p",[t._v(t._s(t.$t("total")))])]),t._v(" "),i("th",{directives:[{name:"show",rawName:"v-show",value:"2"==t.status,expression:"status == '2'"}],staticStyle:{"text-align":"right"}},[i("p",[t._v(t._s(t.$t("fee")))])])])]):t._e(),t._v(" "),"2"==t.status?i("tbody",[i("div",{class:{none:""!=t.dealList},staticStyle:{"font-size":"14px",color:"#666",padding:"38px 0",width:"1044px","text-align":"center"}},[i("p",{staticClass:"  "},[t._v(t._s(t.$t("no records")))])]),t._v(" "),t._l(t.dealList,function(e){return i("tr",[i("td",{staticClass:"space1",staticStyle:{"font-family":"Helvetica"}},[t._v(t._s(t.dateTime(e.time_stamp)||"--"))]),t._v(" "),i("td",[t._v(t._s(e.coin)+"/"+t._s(e.market))]),t._v(" "),i("td",{class:1==e.type?"green":"red"},[t._v(t._s(1==e.type?t.$t("buy"):t.$t("sell")))]),t._v(" "),i("td",{staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v(t._s(e.match_price)+t._s(e.market))]),t._v(" "),i("td",{staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v(t._s(e.match_count))]),t._v(" "),i("td",{staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v(t._s(Number(e.match_all_count||0).toFixed(8))+t._s(e.market)+"\n          ")]),t._v(" "),i("td",{staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v(t._s(1==e.type?Number(e.fee_p*e.match_count).toFixed(8):Number(e.match_all_count*e.fee_p).toFixed(8))+"\n            "+t._s(1==e.type?e.coin:e.market)+"\n          ")])])})],2):t._e(),t._v(" "),"3"==t.status?i("thead",[i("tr",[i("th",{staticStyle:{"text-align":"left"}},[t._v(t._s(t.$t("time")||"0"))]),t._v(" "),i("th",{staticStyle:{"text-align":"left",width:"88px"}},[t._v(t._s(t.$t("market")||"--"))]),t._v(" "),i("th",{staticStyle:{"text-align":"left",width:"55px"}},[t._v(t._s(t.$t("direction")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("Price")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("Amount")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right",width:"140px"}},[t._v(t._s(t.$t("Executed")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("Average Price")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right",width:"160px"}},[t._v(t._s(t.$t("Total")))]),t._v(" "),i("th",{staticStyle:{"text-align":"center",width:"88px"}},[t._v(t._s(t.$t("status")))]),t._v(" "),i("th",{staticStyle:{"text-align":"center",width:"65px"}},[t._v(" "+t._s(t.$t("action")))])])]):t._e(),t._v(" "),"3"==t.status?i("tbody",[i("div",{class:{none:""!=t.dealList},staticStyle:{"font-size":"14px",color:"#666",padding:"38px 0",width:"1044px","text-align":"center"}},[i("p",{staticClass:"  "},[t._v(t._s(t.$t("no records")))])]),t._v(" "),t._l(t.dealList,function(e){return i("tr",{class:3==e.status&&0==t.a?"hiddenfirst":""},[i("td",{staticClass:"space1",staticStyle:{"font-family":"Helvetica"}},[t._v(t._s(t.formatDate(e.update_time).slice(5).slice(0,11)))]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.coin)+"/"+t._s(e.market))]),t._v(" "),i("td",{class:1==e.type?"green":"red",staticStyle:{"text-align":"left"}},[t._v(t._s(1==e.type?t.$t("buy"):t.$t("sell")))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.price||t.$t("Market")))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v("\n            "+t._s("2"==e.order_type&&1==e.type&&2==e.status?Number(e.order_amount).toFixed(9).slice(0,-1):Number(e.history_count).toFixed(9).slice(0,-1))+"\n          ")]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v("\n            "+t._s("2"==e.order_type&&1==e.type&&2==e.status?Number(e.order_amount).toFixed(9).slice(0,-1):Number(e.fill_count).toFixed(9).slice(0,-1))+"\n          ")]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.avg_price||"--"))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(Number(e.order_amount||"0").toFixed(9).slice(0,-1)+e.market))]),t._v(" "),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s("1"==e.status?"1":"2"==e.status?t.$t("Completed"):"3"==e.status?t.$t("Canceled"):t.$t("Part Completed")))]),t._v(" "),i("el-collapse",{directives:[{name:"show",rawName:"v-show",value:"3"!=e.status,expression:"item.status != '3'"}],staticStyle:{"border-bottom":"none","margin-top":"0px","text-align":"right width: 960px","margin-left":"-960px"},attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("div",{on:{click:function(i){t.getmesage(e.m_id,e.type)}}},[i("el-collapse-item",{staticStyle:{"text-align":"right"},attrs:{title:t.$t("details")}},[i("table",{directives:[{name:"show",rawName:"v-show",value:t.mesage.length>0,expression:"mesage.length > 0"}],staticClass:"table tc",staticStyle:{"border-top":"none","margin-top":"10px",background:"rgb(247,247,247)"}},[i("thead",[i("tr",{staticClass:"trs"},[i("th",{staticStyle:{"text-align":"left","padding-left":"60px"}},[t._v(t._s(t.$t("time")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("dealprice")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("orderfilled")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("tradetotal")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right","padding-right":"20px"}},[t._v(" "+t._s(t.$t("fee")))])])]),t._v(" "),i("tbody",t._l(t.mesage,function(e){return i("tr",{staticClass:"trs"},[i("td",{staticStyle:{"text-align":"left","padding-left":"60px"}},[t._v(t._s(t.dateTime(e.time_stamp)))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.match_price))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.match_count))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.match_all_count)+t._s(e.market))]),t._v(" "),i("td",{staticStyle:{"text-align":"right","padding-right":"20px"}},[t._v(t._s(1==e.type?Number(e.fee_p*e.match_count).toFixed(8):Number(e.match_all_count*e.fee_p).toFixed(8))+"\n                        "+t._s(1==e.type?e.coin:e.market)+"\n                      ")])])}))])])],1)])],1)})],2):t._e()]),t._v(" "),i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticStyle:{width:"800px",margin:"0 auto","text-align":"center",height:"40px","margin-top":"10px"},attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next",total:parseInt(t.a)},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)])},staticRenderFns:[]};var n=function(t){i("N9P2")},l=i("VU/8")(a.a,s,!1,n,"data-v-09dbbad5",null);e.a=l.exports},"8UCX":function(t,e){},MTiz:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_lib_Service__=__webpack_require__("iUDm");__webpack_exports__.a={name:"deal_lsit",data:function(){return{activeName:0,enTrust:[],dealList:[],statusText:"",id_status:"",allM_id:[],min_count_in:"",min_price_in:"",min_num_in:"",currentPage1:0,a:1,times:null,lang:"",istype:"",currentPage:1,show:!1,ipt:"",title:"",pageSize:50,mesage:[],checked:!1,loading:!1}},props:{status:{type:String,default:"1"},implement:{default:"1"},NdealStatue:{default:"1"},market:{type:String,default:""},coin:{type:String,default:""},marketCoin:{default:""}},watch:{checked:function(t,e){this.a=1==t?0:1},lang:function(){"1"==this.status?this.statusText=this.$t("cancel"):this.statusText=this.$t("done")},status:function(t,e){this.show=!1,this.dealList=[],1==t||2==t?this.checked=!1:1==t&&(this.show=!1),this.istype=t,this.$store.state.isLogin&&this.orderMarketList(),this.statusText="1"==t?this.$t("cancel"):this.$t("done")},NdealStatue:function(t){this.$store.state.isLogin&&this.orderMarketList()},coin:function(t){this.$store.state.isLogin&&this.orderMarketList()}},methods:{getmesage:function(t,e){let i=this;Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.z)({page:this.currentPage,offset:"100",m_id:t,type:e}).then(t=>{Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.W)(t,t=>{try{let e=t.data;i.mesage=e.list}catch(t){}},t=>{})})},num_indexof:function(t){let e=t||"0",i=0;try{i=e.split(".")[1].indexOf("1")}catch(t){}return Number(i)},format:function(t,e){t=t;let i=this.marketCoin.min_deal_price,a=this.marketCoin.min_deal_num,s=this.num_indexof(i)+1,n=this.num_indexof(a)+1;return t=0==t?s:1==t?n:2==t?s+n:0,this.marketCoin?Number(e).toFixed(t):e},formatDate:function(t){let e=new Date(1e3*t),i=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;let s=e.getDate();s=s<10?"0"+s:s;let n=e.getHours();n=n<10?"0"+n:n;let l=e.getMinutes();l=l<10?"0"+l:l;let _=e.getSeconds();return i+"-"+a+"-"+s+" "+n+":"+l+":"+(_=_<10?"0"+_:_)},dateTime:function(t){let e="";if((e=(t+"").length<=13?new Date(1e3*t).getTime():new Date(t).getTime()).length<10)return!1;var i=new Date(e),a=i.getFullYear(),s=i.getMonth()+1;s=s<10?"0"+s:s;var n=i.getDate();n=n<10?"0"+n:n;var l=i.getHours();l=l<10?"0"+l:l;var _=i.getMinutes(),r=i.getSeconds();return a+"-"+s+"-"+n+" "+l+":"+(_=_<10?"0"+_:_)+":"+(r=r<10?"0"+r:r)},math_multiply:function(t){let e=t;var a,s=1;for(i=0;i<8;i++)s*=10;return a=e*s,(a=Math.round(a))/s},orderMarketList:function(t){let e=this;e.loading=!0,e.enTrust=[];let i=e.status||"1",a=[];1==e.status?(e.show=!1,Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.Q)({status:i,market:e.market,coin:e.coin}).then(t=>{Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.W)(t,t=>{try{let i=t.data;console.log(i,"111"),e.enTrust=i.list.reverse(),i.list.forEach(function(t){a.push(t.m_id)}),e.loading=!1,e.allM_id=a.join(",")}catch(t){}},t=>{e.loading=!1})})):2==e.status?Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.z)({page:this.currentPage,offset:this.pageSize}).then(t=>{Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.W)(t,t=>{try{let i=t.data;e.dealList=i.list,e.a=i.total,this.a<=50?this.show=!1:this.show=!0,e.dealList=i.list}catch(t){}},t=>{})}):3==e.status&&Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.y)({page:this.currentPage,offset:this.pageSize,status:"2"}).then(t=>{Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.W)(t,t=>{try{let i=t.data;console.log(i),e.dealList=i.list,e.a=i.total,e.a<=50?e.show=!1:e.show=!0}catch(t){}},t=>{})})},Allcancel:function(t){let e=t,i=this;if("2"==this.status)return!1;i.$confirm(i.$t("Are you sure you want to cancel all?"),i.$t("Tips"),{confirmButtonText:i.$t("ok"),cancelButtonText:i.$t("Cancel"),type:"warning"}).then(()=>{Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.T)({m_id:e}).then(t=>{Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.W)(t,t=>{let e=t.data;this.$message({message:i.$t("succeeded"),type:"success"}),i.$emit("capitalnew",e),i.orderMarketList(),i.capital(),i.getmesages()})},t=>{this.$message({message:i.$t(t.msg)})})}).catch(()=>{i.$message({type:"info",message:i.$t("Canceled")})})},cancel:function(t){let e=t,i=this;if("2"==this.status)return!1;Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.T)({m_id:e}).then(t=>{Object(__WEBPACK_IMPORTED_MODULE_0_lib_Service__.W)(t,t=>{try{let e=t.data;this.$message({message:i.$t("succeeded"),type:"success"}),i.$emit("capitalnew",e),i.orderMarketList(),i.capital(),i.getmesages()}catch(t){}},t=>{this.$message({message:i.$t(t.msg)})})})},newDeal:function(){let that=this;fn.entrust=function(mes){let newData=eval("("+mes+")"),m_id=newData[1];console.log(mes,m_id,"vals"),that.enTrust.forEach(function(t,e){t.m_id==m_id&&(1==t.order_type?0!=newData[2]?t.count=newData[2]:that.$delete(that.enTrust,e):0!=newData[2]?t.amount=newData[2]:that.$delete(that.enTrust,e))})}},handleSizeChange(t){this.pageSize=t,this.orderMarketList()},handleCurrentChange(t){this.currentPage=t,this.orderMarketList()}},mounted(){this.lang=this.$i18n.locale;let t=this;if(this.times=setInterval(function(){t.lang=t.$i18n.locale},200),this.$store.state.isLogin){let e=t.$store.state.userInfo.token;t.imv.marketinfLogin(1,e),t.newDeal(),this.orderMarketList()}Date.prototype.toLocaleString=function(){return this.getFullYear()+"-"+(this.getMonth()+1)+"-"+this.getDate()+" "+this.getHours()+":"+this.getMinutes()+":"+this.getSeconds()}},beforeDestroy(){this.times&&clearInterval(this.times)},computed:{}}},N9P2:function(t,e){},gzPH:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("HfDC"),s=(i("iUDm"),i("6zyG")),n=i("5reh"),l=i("0D7k"),_=(i("lj9Z"),{name:"orderMarketList",components:{DcPagination:a.a,dealList:l.a},watch:{$route(t,e){"orderMarketList"==t.name&&this.initInfo()},status(t,e){console.log(t,e)}},data:()=>({total:0,pageNo:1,offset:10,list:[],init:1,orderStatus:"",marketCoin:{}}),methods:{initInfo(){let t=this.$route.params.orderStatus;this.orderStatus=s.MARKET_ORDER_STATUS_FOR_BROWSER[t],this.$store.commit(n.ORDER_LIST_SELECTED,t),this.list=[],this.pageNo=1,this.total=0}},mounted(){this.initInfo()}}),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"rightCons"},[e("div",{staticClass:"top"},[e("p",{staticClass:"proName",staticStyle:{"font-size":"18px","font-weight":"500"}},[this._v(this._s(this.$t("exchage order")))])]),this._v(" "),e("div",{staticClass:"tableWrap aaa",staticStyle:{"min-height":"605px"}},[e("dealList",{attrs:{status:this.orderStatus}})],1)])},staticRenderFns:[]};var c=i("VU/8")(_,r,!1,function(t){i("8UCX")},"data-v-01fd78a0",null);e.default=c.exports}});
//# sourceMappingURL=11.0392149b8f6046a0f799.js.map