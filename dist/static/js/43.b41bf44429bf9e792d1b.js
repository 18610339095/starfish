webpackJsonp([43],{dmBL:function(t,e){},uddB:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("5reh"),s=i("lj9Z"),n=i("6zyG"),o=i("iUDm"),l={name:"propertyBonusList",data:()=>({activeName:0,moduleName:"propertyBonusList",coincaps:{},userBonusListD:[],userBonusA:"",bonusIcon:n.bonusIcon,times:null,lang:"zh",page:1,pageSize:30,a:"",bonusAll:null,miningB:"0",show:!0}),watch:{coincaps:function(t){this.allBonus(),this.userBonus(),this.userBonusList()}},methods:{dateTime:function(t){let e=new Date(1e3*t).getTime();if(e.length<10)return!1;var i=new Date(e),a=i.getFullYear(),s=i.getMonth()+1;s=s<10?"0"+s:s;var n=i.getDate();n=n<10?"0"+n:n;var o=i.getHours();o=o<10?"0"+o:o;var l=i.getMinutes(),c=i.getSeconds();return a+"-"+s+"-"+n+" "+o+":"+(l=l<10?"0"+l:l)+":"+(c=c<10?"0"+c:c)},userBonus:function(){let t=this;Object(o.v)({}).then(e=>{Object(o.W)(e,e=>{let i=e.data;console.log(i),t.userBonusA=i.bonusPocket,t.allBonus()},e=>{t.$toast.show({text:t.$t(e.msg)})})})},coincapList:function(){let t=this;Object(o.m)({}).then(e=>{Object(o.W)(e,e=>{let i=e.data,a=(new Date).getTime();i.InvalidTime=a,t.coincaps=i,Object(s.e)("coincaps",JSON.stringify(i))},e=>{t.$toast.show({text:t.$t(e.msg)})})})},userBonusList:function(){let t=this;Object(o.w)({page:this.page,perpage:this.pageSize}).then(e=>{Object(o.W)(e,e=>{let i=e.data;if(console.log(i,"222"),t.a=i.total,"0"==i.total)try{t.miningB=i.miningBalance}catch(t){}t.a<=30?t.show=!1:t.show=!0,t.userBonusListD=i.list},e=>{t.$toast.show({text:t.$t(e.msg)})})})},cionPrice:function(t,e){let i=this.coincaps[t];return i?"zh"==this.lang?i.cny*e||0:"en"==this.lang?i.usd*e||0:void 0:0},allBonus:function(){let t=this.userBonusA,e=null;try{for(let i in t)e+=this.cionPrice(i,t[i])}catch(t){return 0}return e},cionPriceA:function(t){console.log(t,"zong");let e=this,i=null;return t.forEach(function(t){i+=Number(e.cionPrice(t[0],t[1])||0)}),i},localCoincaps:function(){let t=localStorage.getItem("coincaps"),e=null,i=(new Date).getTime();if(t){if(this.coincaps=JSON.parse(t),i-(e=JSON.parse(t).InvalidTime)-18e4<0)return!1;this.coincapList()}else this.coincapList()},handleSizeChange(t){this.pageSize=t,this.userBonusList()},handleCurrentChange(t){this.page=t,this.userBonusList()}},computed:{},mounted(){this.userBonusList();let t=this;this.localCoincaps(),t.$store.commit(a.PROPERTY_SELECTED,t.moduleName),this.lang=this.$i18n.locale,this.times=setInterval(function(){t.lang=t.$i18n.locale},200)},beforeDestroy(){this.times&&clearInterval(this.times)}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rightCon"},[i("div",{staticClass:"top"},[i("p",{staticClass:"proName",staticStyle:{"padding-left":"12px"}},[t._v(t._s(t.$t("Bonus History")))])]),t._v(" "),i("div",{staticClass:"tableWrap"},[i("div",{staticClass:"bonus_m"},[i("div",{staticClass:"bonus_m_t"},[i("span",[t._v(t._s(t.$t("Cumulative bonus valuation")))]),i("i",[t._v(t._s("zh"==t.lang?"¥"+Number(t.allBonus()).toFixed(2):"$"+Number(t.allBonus()).toFixed(2)))])]),t._v(" "),i("table",{staticClass:"table tc",staticStyle:{"border-top":"none"}},[i("thead",[i("tr",[i("th",[t._v(t._s(t.$t("time")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("Bonus account balance")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right","padding-right":"0px"}},[t._v(t._s(t.$t("Bonus valuation (in the form of virtual currency)")))])])]),t._v(" "),i("tbody",t._l(t.userBonusListD,function(e,a){return i("tr",[i("td",{attrs:{colspan:"3"}},[i("ul",{staticClass:"tab_ul"},[i("li",[t._v(t._s(t.dateTime(e.create_timestamp)))]),t._v(" "),i("li",{staticStyle:{"text-align":"right"}},[t._v(t._s(Number(e.bonus_coin_count||0).toFixed(8))+" "+t._s(t.bonusIcon))]),t._v(" "),e.bonus_detail.length>0?i("li",{staticStyle:{"text-align":"right"}},[i("el-collapse",{staticStyle:{"border-bottom":"0","margin-top":"0","text-align":"right",width:"960px","margin-left":"-634px"},attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-collapse-item",{staticStyle:{"text-align":"right","padding-right":"0px"},attrs:{title:"zh"==t.lang?"¥"+t.cionPriceA(e.bonus_detail).toFixed(2):"$"+t.cionPriceA(e.bonus_detail).toFixed(2)}},[i("div",{staticClass:"bonus_m1"},[i("table",{staticClass:"table tc",staticStyle:{"border-top":"none"}},[i("thead",[i("tr",[i("th",[t._v(t._s(t.$t("coin")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("Bonus count")))]),t._v(" "),i("th",{staticStyle:{"text-align":"right","padding-right":"20px"}},[t._v(t._s(t.$t("Value")))])])]),t._v(" "),i("tbody",t._l(e.bonus_detail,function(e){return i("tr",[i("td",[t._v(t._s(e[0]))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(Number(e[1]||0).toFixed(8)))]),t._v(" "),i("td",{staticStyle:{"text-align":"right","padding-right":"20px"}},[t._v(t._s("zh"==t.lang?"¥"+(t.cionPrice(e[0],e[1])||0).toFixed(2):"$"+(t.cionPrice(e[0],e[1])||0).toFixed(2)))])])}))])])])],1)],1):i("li",{staticStyle:{"text-align":"right","padding-right":"10px"}},[t._v("0")])])])])}))]),t._v(" "),i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticStyle:{width:"800px",margin:"0 auto","text-align":"center",height:"40px","margin-top":"10px"},attrs:{"current-page":t.page,"page-size":t.pageSize,layout:"prev, pager, next",total:parseInt(t.a)},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==t.a,expression:"a == '0'"}],staticClass:"noData"},["0"==t.miningB?i("p",[t._v(t._s(t.$t("Trade to get TEX, you get a daily bonus!")))]):i("p",[t._v(" "+t._s(t.$t("No bonus")))])])],1)])])},staticRenderFns:[]};var r=i("VU/8")(l,c,!1,function(t){i("dmBL")},"data-v-06fde8d7",null);e.default=r.exports}});
//# sourceMappingURL=43.b41bf44429bf9e792d1b.js.map