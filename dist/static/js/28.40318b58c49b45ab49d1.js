webpackJsonp([28],{k4tv:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("iUDm"),o=s("6zyG"),a=s("NYxO"),n=s("5reh"),c={name:"loginVerify",data:()=>({cycle:o.TIMER,isClick:!0,timer:"",label_:"",currentTab:"google",code:"",marketUrl:"",errorShow:{code:{isNull:!0,isInit:1}}}),watch:{code(e){this.errorShow.code.isNull=""==this.code,this.isInit=0}},methods:{submitInfo(e){let t=this;Object(i.L)({step:3,submittype:e,code:t.code}).then(e=>{Object(i.W)(e,e=>{let s=e.data;s.isLogin=!0,t.$store.commit(n.USER_INFO,s),this.marketUrl?t.$router.push({path:"/market/"+this.marketUrl}):t.$router.push({name:"userCenter"}),t.$message({message:t.$t("succeeded"),type:"success"})},e=>{t.$message({message:t.$t(e.msg),type:"error"})})})},validateCode(){this.errorShow.code.isNull=""==this.code,this.isInit=0},changeTab(e){this.currentTab!=e&&(this.currentTab=e,this.errorShow.code.isNull=!0,this.code="",this.isInit=1)},getVerifyCode(){let e=this,t=e.$route.params.phone,s=e.$route.params.zone_num;e.isClick&&(e.isClick=!1,Object(i.L)({step:2,zone_num:s,phone:t}).then(t=>{Object(i.W)(t,t=>{e.label_=e.cycle+"s",e.timer=setInterval(()=>{1==e.cycle?(clearInterval(e.timer),e.isClick=!0,e.cycle=o.TIMER,e.label_=""):(e.cycle--,e.label_=e.cycle+"s")},1e3)},t=>{e.isClick=!0,e.$message({message:e.$t("Please login again"),type:"error"})})}))}},mounted(){let e=this;this.marketUrl=this.$route.params.marketUrl,document.onkeyup=function(t){let s=e.$store.state.userInfo.google_ath_status;window.event&&(t=window.event),13==(t.charCode||t.keyCode)&&("1"==s?e.submitInfo("google"==e.currentTab?"1":"2"):e.submitInfo("2"))}},destroyed(){clearInterval(this.timer)},computed:Object(a.b)(["userInfo"])},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"yResetYzContentWarp",staticStyle:{"min-height":"640px"}},["0"!=e.userInfo.google_ath_status||"0"==e.userInfo.google_ath_status?s("div",{staticClass:"yResetYzContent"},[s("div",{staticClass:"yResetTitleSecond"},[s("span",[e._v(e._s("1"==e.userInfo.google_ath_status?e.$t("google authentication"):e.$t("sms authentication code")))])]),e._v(" "),s("div",{staticClass:"yResetWrap"},["1"==e.userInfo.google_ath_status?s("div",{staticClass:"form_item"},[s("el-input",{staticStyle:{"box-shadow":"none"},attrs:{type:"text",size:"medium",placeholder:e.$t("2fa code")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1):e._e(),e._v(" "),""!=e.userInfo.phone?s("div",{staticClass:"form_item clearfix"},[s("el-input",{staticStyle:{width:"220px","font-size":"12px","box-shadow":"none"},attrs:{size:"medium",type:"text",placeholder:e.$t("sms authentication code")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isClick,expression:"isClick"}],staticStyle:{position:"absolute",top:"122px","z-index":"999",left:"300px","font-size":"12px"},attrs:{type:"primary",size:"medium"},on:{click:function(t){e.getVerifyCode()}}},[e._v(e._s(e.$t("send sms code"))+"\n                        ")]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isClick,expression:"!isClick"}],staticStyle:{position:"absolute",top:"122px","z-index":"999",width:"102px",left:"290px","font-size":"12px"},attrs:{type:"primary",size:"medium",disabled:""}},[e._v(e._s(e.label_)+"\n                        ")])],1):e._e(),e._v(" "),s("el-button",{staticStyle:{width:"330px","font-size":"14px","margin-top":"30px"},attrs:{type:"primary",size:"medium"},on:{click:function(t){e.submitInfo("2")}}},[e._v(e._s(e.$t("ok"))+"\n                    ")])],1)]):e._e(),e._v(" "),"1"==e.userInfo.google_ath_status&&""!=e.userInfo.phone?s("div",{staticClass:"yResetSecondContent"},[s("div",{staticClass:"tabWrap"},[s("div",{staticClass:"tabNav"},[s("a",{staticClass:"tabNav_item",class:{active:"google"==e.currentTab},on:{click:function(t){e.changeTab("google")}}},[e._v(e._s(e.$t("google authentication")))]),e._v(" "),s("a",{staticClass:"tabNav_item",class:{active:"phone"==e.currentTab},on:{click:function(t){e.changeTab("phone")}}},[e._v(e._s(e.$t("phone code")))])]),e._v(" "),s("div",{staticClass:"tabCon"},[s("div",{staticClass:"tabCon_item"},["google"==e.currentTab?s("div",{staticClass:"form_item"},[s("el-input",{staticStyle:{"font-size":"12px","box-shadow":"none"},attrs:{type:"text",size:"medium",placeholder:e.$t("2fa code")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1):e._e(),e._v(" "),"phone"==e.currentTab?s("div",{staticClass:"form_item clearfix"},[s("el-input",{staticStyle:{"font-size":"12px",width:"222px","box-shadow":"none"},attrs:{type:"text",size:"medium",placeholder:e.$t("sms authentication code")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isClick,expression:"isClick"}],staticStyle:{position:"absolute",top:"76px","z-index":"999",left:"300px","font-size":"12px"},attrs:{type:"primary",size:"medium"},on:{click:function(t){e.getVerifyCode()}}},[e._v(e._s(e.$t("send sms code"))+"\n                        ")]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isClick,expression:"!isClick"}],staticStyle:{position:"absolute",width:"102px","z-index":"999",left:"290px","font-size":"12px"},attrs:{disabled:"",type:"primary",size:"medium"}},[e._v(e._s(e.label_)+"\n                        ")])],1):e._e(),e._v(" "),s("el-button",{staticStyle:{width:"330px","font-size":"14px","margin-top":"40px"},attrs:{type:"primary",size:"medium"},on:{click:function(t){e.submitInfo("google"==e.currentTab?"1":"2")}}},[e._v(e._s(e.$t("ok"))+"\n                    ")])],1)])])]):e._e()])},staticRenderFns:[]};var r=s("VU/8")(c,l,!1,function(e){s("mqoj")},"data-v-698a7bc4",null);t.default=r.exports},mqoj:function(e,t){}});
//# sourceMappingURL=28.40318b58c49b45ab49d1.js.map