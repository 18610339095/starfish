webpackJsonp([38],{Gxha:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("5reh"),n=a("iUDm"),s=a("lj9Z"),l={name:"propertyList",data:()=>({search:"",moduleName:"propertyList",bType:[],balance:{},freezeBalance:{},dayWithdrawLimit:{},allBalance:{},btcValue:{},getCoinList:{},CoinsList:{},allCoin:[],CoinMarket:[],cnyValue:{},usdValue:{},indexShow:"0",showText:!0,times:null,lang:"zh",total:"",pageSize:10,page:"",hascMarket:!1}),computed:{searchList:function(){var t=this.search.toUpperCase();if(t){let a=this.getCoinList,i=[];for(var e=0;e<a.length;e++)-1!=a[e].coin_name.search(t)&&i.push(a[e]);return i}return this.getCoinList},usdAll:function(){let t=this,e=0;return t.bType.forEach(function(a){e+=Number(t.usdValue[a]||0)}),Number(e).toFixed(2)},cnyAll:function(){let t=this,e=0;return t.bType.forEach(function(a){e+=Number(t.cnyValue[a]||0)}),Number(e).toFixed(2)},btcAll:function(){let t=this,e=0;return t.bType.forEach(function(a){e+=Number(t.btcValue[a]||0)}),Number(e).toFixed(8)},Allicon:function(){let t=this,e=t.allCoin;t.bType.forEach(function(a){t.$delete(e,a)})}},methods:{handleCommand:function(t){this.goNext("market",t)},dropdFn:function(t){let e=!1;return e=this.indexShow==t&&this.CoinMarket.length>=0},marketList:function(){let t=this;Object(n.l)({}).then(e=>{Object(n.W)(e,e=>{var a=[],i=[];e.data.forEach(function(e,n){var s=!1;t.bType.forEach(function(t,i){e.coin_name==t&&(s=!0,a.push(e))}),t.showText=!1,s||i.push(e)});var n=a.concat(i);t.getCoinList=n,e.data.forEach(function(e){t.allCoin.push(e.coin_name)})},e=>{t.$toast.show({text:t.$t(e.msg)})})})},iconForbid:function(t){},getCoinMarket:function(t,e,a){let i=this;i.CoinMarket=[];let s=$(a.target).siblings("ul");s.hasClass("on")?s.removeClass("on"):s.addClass("on"),Object(n.k)({coin:t,detail_flag:"0"}).then(t=>{Object(n.W)(t,a=>{let n=t.data;this.CoinMarket=n,n.length<=0?(i.indexShow=-1,i.$message({message:i.$t("No Trading Market"),center:!0})):i.indexShow=e},t=>{i.$toast.show({text:i.$t(t.msg)})})})},capital:function(){let t=this;Object(n.P)({}).then(e=>{Object(n.W)(e,e=>{try{let o=e.data,r=t.balance=o.balance;t.allBalance=o.allBalance,t.cnyValue=o.cnyValue,t.usdValue=o.usdValue,t.btcValue=o.btcValue;let c=t.freezeBalance=o.freezeBalance,d=t.dayWithdrawLimit=o.dayWithdrawLimit,h=[],u=[],_=[];for(var a in r)h.push(a),u.push(r[a]);for(var a in c)h.push(a),u.push(r[a]);for(var n=0;n<h.length;n++)-1==_.indexOf(h[n])&&_.push(h[n]);t.bType=_;var l={balance:r,freezeBalance:c,dayWithdrawLimit:d};Object(s.d)("myAssets",JSON.stringify(l)),t.$store.commit(i.MY_ASSETS,l),t.marketList()}catch(t){}},t=>{})})},goNext(t,e){2==arguments.length?this.$router.push({name:t,params:{orderyStatus:e}}):this.$router.push({name:t})}},mounted(){let t=this;t.capital(),t.$store.commit(i.PROPERTY_SELECTED,t.moduleName),this.lang=this.$i18n.locale,this.times=setInterval(function(){t.lang=t.$i18n.locale},200)},beforeDestroy(){this.times&&clearInterval(this.times)}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rightCons yMyZC"},[a("div",{staticClass:"top clearfix"},[a("div",{staticClass:"fl"},[a("p",{staticClass:"proName fl title"},[t._v(t._s(t.$t("funds")))]),t._v(" "),a("div",{staticClass:"form_item inline form_item_seach inline",staticStyle:{"margin-top":"-23px"}},[a("el-input",{attrs:{size:"mini",placeholder:t.$t("search"),"prefix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),t._v(" "),a("p",{staticClass:"fr yTopRight"},[a("span",[t._v(t._s(t.$t("estimate value"))+"：")]),t._v(" "),a("span",[t._v(t._s(t.btcAll)+" BTC/"+t._s("en"==t.lang?"$"+t.usdAll:"¥"+t.cnyAll))])])]),t._v(" "),a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table tc",staticStyle:{"border-top":"none"}},[a("thead",[a("tr",[a("th",{attrs:{width:"12%"}},[a("span",[t._v(t._s(t.$t("coin")))])]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("total balance")))]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("available balance")))]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("in order")))]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.$t("cnyvalue")))]),t._v(" "),a("th",{attrs:{width:"30%"}},[t._v(t._s(t.$t("action")))])])]),t._v(" "),a("tbody",[t._l(t.searchList,function(e,i){return a("tr",[a("td",[a("img",{staticClass:"yGlImg",attrs:{src:e.icon,width:"20",height:"20"}}),t._v(t._s(e.coin_name))]),t._v(" "),a("td",{staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v(t._s(Number(t.allBalance[e.coin_name]||0).toFixed(8)))]),t._v(" "),a("td",{staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v(t._s(Number(t.balance[e.coin_name]||"0").toFixed(8)))]),t._v(" "),a("td",{staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v(" "+t._s(Number(t.freezeBalance[e.coin_name]||"0").toFixed(8)))]),t._v(" "),a("td",{staticStyle:{"text-align":"right","font-family":"Helvetica"}},[t._v(t._s("en"==t.lang?Number(t.usdValue[e.coin_name]||"0").toFixed(2):Number(t.cnyValue[e.coin_name]||"0").toFixed(2)))]),t._v(" "),a("td",{staticStyle:{padding:"0"}},[a("el-button",{staticStyle:{"font-size":"12px"},attrs:{disabled:"2"==e.recharge_status},on:{click:function(a){t.goNext("propertyRecharge",e.coin_name)}}},[t._v(t._s(t.$t("deposit")))]),t._v(" "),a("el-button",{staticStyle:{"font-size":"12px"},attrs:{disabled:"2"==e.withdraw_status},on:{click:function(a){t.goNext("propertyAdvance",e.coin_name)}}},[t._v(t._s(t.$t("withdraw")))]),t._v(" "),a("div",{staticClass:"coinMarket",staticStyle:{position:"relative"}},[a("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:t.handleCommand}},[a("el-button",{staticStyle:{height:"38px","margin-left":"10px","font-size":"12px"},attrs:{disabled:"2"==e.business_status},on:{click:function(a){a.stopPropagation(),t.getCoinMarket(e.coin_name,i,a)}}},[t._v("\n                                                "+t._s(t.$t("trade"))),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{class:t.dropdFn(i)?"":"none",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.CoinMarket,function(i,n){return a("el-dropdown-item",{key:n,class:"2"==i.pair_status?"btn_disabled":"",staticStyle:{"font-size":"12px"},attrs:{command:i.market+":"+e.coin_name}},[t._v(t._s(i.market))])}))],1)],1)],1)])}),t._v(" "),t._l(t.Allicon,function(e){return a("tr",[a("td",[t._v(t._s(e))]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")])})],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showText,expression:"showText"}],staticClass:"noData"},[a("p",{staticClass:" "},[t._v(t._s(t.$t("no records")))])])])])},staticRenderFns:[]};var r=a("VU/8")(l,o,!1,function(t){a("VQD7")},"data-v-1f7ef802",null);e.default=r.exports},VQD7:function(t,e){}});
//# sourceMappingURL=38.3ef188af7235fdb0244e.js.map