webpackJsonp([41],{jBH3:function(e,s){},meDO:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=t("iUDm"),r=t("6zyG"),i=t("NYxO"),n=t("5reh"),a={name:"userCenterPhoneVerify",data:()=>({errorShow:{phone:{isNull:!0,isReg:!0,isInit:1},code:{isNull:!0,isInit:1},password:{isNull:!0,isInit:1}},moduleName:"userCenterPhoneVerify",code:"",password:"",phone:"",step:"1",timer:"",cycle:r.TIMER,isClick:!0,label_:"获取验证码",isBind:!0}),watch:{code(e){this.errorShow.code.isNull=""==e,this.errorShow.code.isInit=0},password(e){this.errorShow.password.isNull=""==e,this.errorShow.password.isInit=0},phone(e){this.errorShow.phone.isNull=""==e,this.errorShow.phone.isInit=0,this.errorShow.phone.isReg=!0}},methods:{goNext(e){this.$router.push({name:e})},valiateResult(){return Object(o._7)(this.errorShow,[{key:"isNull",value:!1},{key:"isReg",value:!0}])},getVerifyCode(){let e=this;e.isClick&&!e.errorShow.phone.isNull&&e.errorShow.phone.isReg&&0==e.errorShow.phone.isInit&&(e.isClick=!1,e.isBind?Object(o._3)({step:1,phone:e.phone}).then(s=>{Object(o.W)(s,s=>{e.label_=e.cycle+"s",e.timer=setInterval(()=>{1==e.cycle?(clearInterval(e.timer),e.isClick=!0,e.cycle=r.TIMER,e.label_="获取验证码"):(e.cycle--,e.label_=e.cycle+"s")},1e3)},s=>{e.$toast.show({text:e.$t(s.msg)})})}):Object(o._2)({step:1}).then(s=>{Object(o.W)(s,s=>{e.label_=e.cycle+"s",e.timer=setInterval(()=>{1==e.cycle?(clearInterval(e.timer),e.isClick=!0,e.cycle=r.TIMER,e.label_="获取验证码"):(e.cycle--,e.label_=e.cycle+"s")},1e3)},s=>{e.$toast.show({text:e.$t(s.msg)})})}))},submitInfo(){let e=this;e.valiateResult()&&(e.isBind?Object(o._3)({step:2,phone:e.phone,code:e.code}).then(s=>{Object(o.W)(s,s=>{e.userCenterInfo.phone=e.phone,e.$store.commit(n.USER_CENTER_INFO,e.userCenterInfo),e.$router.push({name:"userCenter"})},s=>{e.$toast.show({text:e.$t(s.msg)})})}):Object(o._2)({step:2,password:e.password,code:e.code}).then(s=>{Object(o.W)(s,s=>{e.userCenterInfo.phone="",e.$store.commit(n.USER_CENTER_INFO,e.userCenterInfo),e.$router.push({name:"userCenter"})},s=>{e.$toast.show({text:e.$t(s.msg)})})}))},validatePassword(){this.errorShow.password.isInit=0,this.errorShow.password.isNull=""==this.password},validateCode(){this.errorShow.code.isInit=0,this.errorShow.code.isNull=""==this.code},validatePhone(){let e=this;e.errorShow.phone.isInit=0,e.errorShow.phone.isNull=""==e.phone,""!=e.phone&&(e.errorShow.phone.isReg=r.PhoneReg.test(e.phone))}},mounted(){let e=this;e.$store.commit(n.USER_CENTER_SELECTED,e.moduleName),e.phone=e.userCenterInfo.phone,""!=e.phone?(e.isBind=!1,e.errorShow.phone.isNull=!1,e.errorShow.phone.isReg=!0,e.errorShow.phone.isInit=0):(e.errorShow.password.isNull=!1,e.errorShow.password.isInit=0)},destroyed(){clearInterval(this.timer)},computed:Object(i.b)(["userCenterInfo"])},l={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"yRightWrap"},[""==e.userCenterInfo.phone?t("h3",{staticClass:"yGooleTitle"},[e._v("\n       手机验证"),t("span",{staticClass:"f12 ml30"},[e._v("您也可选择"),t("a",{staticClass:"cBlue",on:{click:function(s){e.goNext("userCenterGoogleVerify")}}},[e._v("谷歌验证")])])]):e._e(),e._v(" "),""!=e.userCenterInfo.phone?t("div",{staticClass:"yGooleNavCen yPhoneYZ yJCPhone"},[t("h3",{staticClass:"yReleaseTitle",staticStyle:{"font-size":"18px","border-top":"8px solid #225DED","line-height":"28px",background:"white></div>"}},[t("a",{staticClass:"a",on:{click:function(s){e.goNext("userCenter")}}},[e._v(e._s(e.$t("user center")))]),e._v(" > 手机验证")]),e._v(" "),t("div",{staticClass:"zero"}),e._v(" "),t("div",{staticClass:"yLB"},[t("ul",[t("li",[t("span",{staticClass:"yLBTitle"},[e._v(e._s(e.$t("login password"))+"：")]),e._v(" "),t("div",{staticClass:"form_item default inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",class:{inpErr:0==e.errorShow.password.isInit&&e.errorShow.password.isNull},attrs:{type:"password",placeholder:e.$t("enter key")},domProps:{value:e.password},on:{blur:function(s){e.validatePassword()},input:function(s){s.target.composing||(e.password=s.target.value)}}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow.password.isInit&&e.errorShow.password.isNull,expression:"errorShow.password.isInit==0&&errorShow.password.isNull"}],staticClass:"errText"},[e._v(e._s(e.$t("login password is required")))])])]),e._v(" "),t("li",[t("span",{staticClass:"yLBTitle"},[e._v(e._s(e.$t("phone number"))+"：")]),e._v(" "),t("div",{staticClass:"yRightInput"},[t("div",{staticClass:"yFlexDiv"},[e._m(0),e._v(" "),t("div",{staticClass:"yflex1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],class:{inpErr:0==e.errorShow.phone.isInit&&(e.errorShow.phone.isNull||!e.errorShow.phone.isReg)},attrs:{type:"text",placeholder:e.$("enter phone number"),disabled:"disabled"},domProps:{value:e.phone},on:{blur:function(s){e.validatePhone()},input:function(s){s.target.composing||(e.phone=s.target.value)}}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow.phone.isInit&&e.errorShow.phone.isNull,expression:"errorShow.phone.isInit==0&&errorShow.phone.isNull"}],staticClass:"errText"},[e._v(e._s(e.$t("phone must not be blank")))]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow.phone.isInit&&!e.errorShow.phone.isReg,expression:"errorShow.phone.isInit==0&&!errorShow.phone.isReg"}],staticClass:"errText"},[e._v(e._s(e.$t("wrong phone number")))])])])])]),e._v(" "),t("li",[t("span",{staticClass:"yLBTitle"},[e._v(e._s(e.$t("sms authentication code"))+"：")]),e._v(" "),t("div",{staticClass:"yRightInput"},[t("div",{staticClass:"yFlexDiv"},[t("div",{staticClass:"yflex1 ml1 phoneNum"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],class:{inpErr:0==e.errorShow.code.isInit&&e.errorShow.code.isNull},attrs:{type:"text",placeholder:e.$t("sms authentication code"),maxlength:"4"},domProps:{value:e.code},on:{blur:function(s){e.validateCode()},input:function(s){s.target.composing||(e.code=s.target.value)}}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow.code.isInit&&e.errorShow.code.isNull,expression:"errorShow.code.isInit==0&&errorShow.code.isNull"}],staticClass:"errText"},[e._v(e._s(e.$t("sms authentication code must not be blank")))])]),e._v(" "),t("div",{staticClass:"yFYZ yFS",class:{yFS:e.isClick},on:{click:function(s){e.getVerifyCode()}}},[e._v("\n                            "+e._s(e.label_)+"\n                            ")])])])])]),e._v(" "),t("a",{staticClass:"btn btn_orange",class:{btn_disabled:!e.valiateResult()},on:{click:function(s){e.submitInfo()}}},[e._v(e._s(e.$t("ok")))])])]):e._e(),e._v(" "),""==e.userCenterInfo.phone?t("div",{staticClass:"yGooleNavCen yPhoneYZ"},[t("div",{staticClass:"yLB"},[t("ul",[t("li",[t("span",{staticClass:"yLBTitle"},[e._v(e._s(e.$t("phone number"))+"：")]),e._v(" "),t("div",{staticClass:"yRightInput"},[t("div",{staticClass:"yFlexDiv"},[e._m(1),e._v(" "),t("div",{staticClass:"yflex1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],class:{inpErr:0==e.errorShow.phone.isInit&&(e.errorShow.phone.isNull||!e.errorShow.phone.isReg)},attrs:{type:"text",placeholder:e.$("enter phone number")},domProps:{value:e.phone},on:{blur:function(s){e.validatePhone()},input:function(s){s.target.composing||(e.phone=s.target.value)}}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow.phone.isInit&&e.errorShow.phone.isNull,expression:"errorShow.phone.isInit==0&&errorShow.phone.isNull"}],staticClass:"errText"},[e._v("手机号不能为空")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow.phone.isInit&&!e.errorShow.phone.isReg,expression:"errorShow.phone.isInit==0&&!errorShow.phone.isReg"}],staticClass:"errText"},[e._v("手机号格式不对")])])])])]),e._v(" "),t("li",[t("span",{staticClass:"yLBTitle"},[e._v(e._s(e.$t("sms authentication code"))+"：")]),e._v(" "),t("div",{staticClass:"yRightInput"},[t("div",{staticClass:"yFlexDiv"},[t("div",{staticClass:"yflex1 ml1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],class:{inpErr:0==e.errorShow.code.isInit&&e.errorShow.code.isNull},attrs:{type:"text",placeholder:e.$t("sms authentication code"),maxlength:"4"},domProps:{value:e.code},on:{blur:function(s){e.validateCode()},input:function(s){s.target.composing||(e.code=s.target.value)}}}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.errorShow.code.isInit&&e.errorShow.code.isNull,expression:"errorShow.code.isInit==0&&errorShow.code.isNull"}],staticClass:"errText"},[e._v(e._s(e.$t("sms authentication code must not be blank")))])]),e._v(" "),t("div",{staticClass:"yFYZ yFS",class:{yFS:e.isClick},on:{click:function(s){e.getVerifyCode()}}},[e._v("\n                            "+e._s(e.label_)+"\n                            ")])])])])]),e._v(" "),t("a",{staticClass:"btn btn_orange loBtn",class:{btn_disabled:!e.valiateResult()},on:{click:function(s){e.submitInfo()}}},[e._v(e._s(e.$t("ok")))])])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"yFW"},[s("span",[this._v("+86")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"yFW"},[s("span",[this._v("+86")])])}]};var h=t("VU/8")(a,l,!1,function(e){t("jBH3")},"data-v-15f5aa70",null);s.default=h.exports}});
//# sourceMappingURL=41.7ffdc159d92414f63ae7.js.map